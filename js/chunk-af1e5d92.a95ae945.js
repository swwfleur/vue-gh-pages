(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-af1e5d92"],{"0b42":function(e,t,c){var n=c("da84"),o=c("e8b5"),a=c("68ee"),r=c("861d"),l=c("b622"),i=l("species"),s=n.Array;e.exports=function(e){var t;return o(e)&&(t=e.constructor,a(t)&&(t===s||o(t.prototype))?t=void 0:r(t)&&(t=t[i],null===t&&(t=void 0))),void 0===t?s:t}},"1dde":function(e,t,c){var n=c("d039"),o=c("b622"),a=c("2d00"),r=o("species");e.exports=function(e){return a>=51||!n((function(){var t=[],c=t.constructor={};return c[r]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"65f0":function(e,t,c){var n=c("0b42");e.exports=function(e,t){return new(n(e))(0===t?0:t)}},"6be2":function(e,t,c){"use strict";var n=function(e){return{all:e=e||new Map,on:function(t,c){var n=e.get(t);n?n.push(c):e.set(t,[c])},off:function(t,c){var n=e.get(t);n&&(c?n.splice(n.indexOf(c)>>>0,1):e.set(t,[]))},emit:function(t,c){var n=e.get(t);n&&n.slice().map((function(e){e(c)})),(n=e.get("*"))&&n.slice().map((function(e){e(t,c)}))}}},o=n();t["a"]=o},8418:function(e,t,c){"use strict";var n=c("a04b"),o=c("9bf2"),a=c("5c6c");e.exports=function(e,t,c){var r=n(t);r in e?o.f(e,r,a(0,c)):e[r]=c}},"99af":function(e,t,c){"use strict";var n=c("23e7"),o=c("da84"),a=c("d039"),r=c("e8b5"),l=c("861d"),i=c("7b0b"),s=c("07fa"),d=c("8418"),u=c("65f0"),b=c("1dde"),p=c("b622"),f=c("2d00"),h=p("isConcatSpreadable"),m=9007199254740991,v="Maximum allowed index exceeded",O=o.TypeError,j=f>=51||!a((function(){var e=[];return e[h]=!1,e.concat()[0]!==e})),g=b("concat"),E=function(e){if(!l(e))return!1;var t=e[h];return void 0!==t?!!t:r(e)},V=!j||!g;n({target:"Array",proto:!0,forced:V},{concat:function(e){var t,c,n,o,a,r=i(this),l=u(r,0),b=0;for(t=-1,n=arguments.length;t<n;t++)if(a=-1===t?r:arguments[t],E(a)){if(o=s(a),b+o>m)throw O(v);for(c=0;c<o;c++,b++)c in a&&d(l,b,a[c])}else{if(b>=m)throw O(v);d(l,b++,a)}return l.length=b,l}})},cc55:function(e,t,c){"use strict";c.r(t);c("99af");var n=c("7a23"),o={class:"container"},a={class:"row border p-3 m-1"},r={class:"d-flex justify-content-between p-1"},l=Object(n["createElementVNode"])("h2",null,"Shopping Cart",-1),i={class:"col-2"},s=["disabled"],d={key:0,class:"table"},u=Object(n["createElementVNode"])("thead",null,[Object(n["createElementVNode"])("tr",null,[Object(n["createElementVNode"])("th",{scope:"20"},"ITEM"),Object(n["createElementVNode"])("th",{scope:"20"},"QTY"),Object(n["createElementVNode"])("th",{scope:"20"},"PRICE"),Object(n["createElementVNode"])("th",{scope:"20"},"TOTAL PRICE"),Object(n["createElementVNode"])("th",{scope:"20"})])],-1),b={scope:"row"},p=["onUpdate:modelValue","onChange","disabled"],f=["value"],h={class:"text-danger"},m=["onClick"],v=Object(n["createElementVNode"])("i",{class:"bi bi-trash"},null,-1),O=Object(n["createTextVNode"])("Remove "),j=[v,O],g=Object(n["createElementVNode"])("td",{colspan:"4",class:"table-active"},"Total",-1),E={class:"fw-bold fs-5"},V={key:1,class:"cart-noItem"},N=Object(n["createElementVNode"])("h3",null,[Object(n["createElementVNode"])("i",{class:"bi bi-cart-plus"})],-1),y=Object(n["createElementVNode"])("h3",null,"Your shopping cart is empty",-1),k=Object(n["createElementVNode"])("p",null,"Get some fresh and healthy",-1),C=[N,y,k];function x(e,t,c,v,O,N){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",o,[Object(n["createElementVNode"])("div",a,[Object(n["createElementVNode"])("div",r,[l,Object(n["createElementVNode"])("div",i,[Object(n["createElementVNode"])("button",{type:"button",class:"btn btn-outline-danger w-100",onClick:t[0]||(t[0]=function(){return N.removeAllItem&&N.removeAllItem.apply(N,arguments)}),disabled:0===O.cartData.carts.length}," Delete All ",8,s)])]),O.cartData.carts.length>0?(Object(n["openBlock"])(),Object(n["createElementBlock"])("table",d,[u,Object(n["createElementVNode"])("tbody",null,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(O.cartData.carts,(function(e){return Object(n["openBlock"])(),Object(n["createElementBlock"])("tr",{key:e.id,style:{width:"200px"}},[Object(n["createElementVNode"])("td",b,[Object(n["createElementVNode"])("div",{style:Object(n["normalizeStyle"])([{backgroundImage:"url(".concat(e.product.imageUrl,")")},{height:"100px","background-size":"cover","background-position":"center"}])},null,4)]),Object(n["createElementVNode"])("td",null,[Object(n["withDirectives"])(Object(n["createElementVNode"])("select",{class:"form-select","onUpdate:modelValue":function(t){return e.qty=t},onChange:function(t){return N.updateCartItem(e)},disabled:O.isLoading===e.id},[(Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(20,(function(t){return Object(n["createElementVNode"])("option",{value:t,key:"".concat(t,"+").concat(e.id)},Object(n["toDisplayString"])(t),9,f)})),64))],40,p),[[n["vModelSelect"],e.qty]])]),Object(n["createElementVNode"])("td",null,"£ "+Object(n["toDisplayString"])(e.product.price),1),Object(n["createElementVNode"])("td",h,"£ "+Object(n["toDisplayString"])(Math.round(e.total)),1),Object(n["createElementVNode"])("td",null,[Object(n["createElementVNode"])("button",{type:"button",class:"btn border",onClick:function(t){return N.removeCartItem(e.id)}},j,8,m)])])})),128))]),Object(n["createElementVNode"])("tfoot",null,[Object(n["createElementVNode"])("tr",null,[g,Object(n["createElementVNode"])("td",E,"£"+Object(n["toDisplayString"])(Math.round(O.cartData.total)),1)])])])):(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",V,C))])])}var w=c("6be2"),B={data:function(){return{cartData:{carts:[]},products:[],search:"",productId:"",isLoading:!1,user:{}}},methods:{getCart:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("fleur","/cart");this.$http.get(t).then((function(t){e.cartData=t.data.data,w["a"].emit("get-cart")}))},addCart:function(e){var t=this,c=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("fleur","/cart"),o={product_id:e,qty:c};this.isLoading=e,this.$http.post(n,{data:o}).then((function(){t.getCart(),t.isLoading="",t.$refs.productModal.closeModal()})).catch((function(e){return console.log(e.response)}))},removeCartItem:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("fleur","/cart/").concat(e);this.isLoading=e,this.$http.delete(c).then((function(){t.getCart(),t.isLoading=""})).catch((function(e){return console.log(e.response)}))},updateCartItem:function(e){var t=this,c="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("fleur","/cart/").concat(e.id),n={product_id:e.id,qty:e.qty};this.isLoading=e.id,this.$http.put(c,{data:n}).then((function(){t.getCart(),t.isLoading=""})).catch((function(e){return console.log(e.response)}))},removeAllItem:function(){var e=this,t="".concat("https://vue3-course-api.hexschool.io/v2","/api/").concat("fleur","/carts");this.$http.delete(t).then((function(){e.getCart()})).catch((function(e){return console.log(e.response)}))}},mounted:function(){this.getCart()}},I=c("6b0d"),D=c.n(I);const L=D()(B,[["render",x]]);t["default"]=L},e8b5:function(e,t,c){var n=c("c6b6");e.exports=Array.isArray||function(e){return"Array"==n(e)}}}]);
//# sourceMappingURL=chunk-af1e5d92.a95ae945.js.map